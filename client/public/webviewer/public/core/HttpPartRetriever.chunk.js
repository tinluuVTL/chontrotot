/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{548:function(wa,ta,h){h.r(ta);h.d(ta,"ByteRangeRequest",function(){return w});var pa=h(0),na=h(1);h.n(na);var oa=h(3),ka=h(183);wa=h(117);var la=h(305),ha=h(93),z=h(90),y=h(304),r=h(202);h=h(469);var n=[],b=[],a=window,e=function(){return function(){this.bp=1}}(),f;(function(ea){ea[ea.UNSENT=0]="UNSENT";ea[ea.DONE=4]="DONE"})(f||(f={}));var w=function(){function ea(fa,x,ba,aa){var ma=this;this.url=fa;this.range=x;this.vg=ba;
this.withCredentials=aa;this.lda=f;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");aa&&(this.request.withCredentials=aa);ca.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(x.stop)?this.request.setRequestHeader("Range","bytes="+x.start):this.request.setRequestHeader("Range",["bytes=",x.start,"-",x.stop-1].join("")));ba&&Object.keys(ba).forEach(function(ia){ma.request.setRequestHeader(ia,ba[ia])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}ea.prototype.start=function(fa){var x=this,ba=this.request;ba.onreadystatechange=function(){if(x.aborted)return x.status=y.a.ABORTED,fa({code:y.a.ABORTED});if(this.readyState===x.lda.DONE){x.CH();var aa=0===window.document.URL.indexOf("file:///");200===ba.status||206===ba.status||aa&&0===ba.status?(aa=a.o2(this),x.wU(aa,fa)):(x.status=y.a.ERROR,
fa({code:x.status,status:x.status}))}};this.request.send(null);this.status=y.a.STARTED};ea.prototype.wU=function(fa,x){this.status=y.a.SUCCESS;if(x)return x(!1,fa)};ea.prototype.abort=function(){this.CH();this.aborted=!0;this.request.abort()};ea.prototype.CH=function(){var fa=Object(r.c)(this.url,this.range,b);-1!==fa&&b.splice(fa,1);if(0<n.length){fa=n.shift();var x=new ea(fa.url,fa.range,this.vg,this.withCredentials);fa.request=x;b.push(fa);x.start(Object(r.d)(fa))}};ea.prototype.extend=function(fa){var x=
Object.assign({},this,fa.prototype);x.constructor=fa;return x};return ea}(),ca=function(ea){function fa(x,ba,aa,ma,ia){aa=ea.call(this,x,aa,ma)||this;aa.Vk={};aa.OF=ba;aa.url=x;aa.DISABLE_RANGE_HEADER=!1;aa.qC=w;aa.KV=3;aa.vg=ia||{};return aa}Object(pa.c)(fa,ea);fa.prototype.Lz=function(x,ba,aa){var ma=-1===x.indexOf("?")?"?":"&";switch(aa){case !1:case z.a.NEVER_CACHE:x=x+ma+"_="+Object(na.uniqueId)();break;case !0:case z.a.CACHE:x=x+ma+"_="+ba.start+","+(Object(na.isUndefined)(ba.stop)?"":ba.stop)}return x};
fa.prototype.B_=function(x,ba,aa,ma){void 0===aa&&(aa={});return new this.qC(x,ba,aa,ma)};fa.prototype.Qma=function(x,ba,aa,ma,ia){for(var ja=0;ja<n.length;ja++)if(Object(na.isEqual)(n[ja].range,ba)&&Object(na.isEqual)(n[ja].url,x))return n[ja].gi.push(ma),n[ja].OI++,null;for(ja=0;ja<b.length;ja++)if(Object(na.isEqual)(b[ja].range,ba)&&Object(na.isEqual)(b[ja].url,x))return b[ja].gi.push(ma),b[ja].OI++,null;aa={url:x,range:ba,OF:aa,gi:[ma],OI:1};if(0===n.length&&b.length<this.KV)return b.push(aa),
aa.request=this.B_(x,ba,ia,this.withCredentials),aa;n.push(aa);return null};fa.prototype.Zq=function(x,ba,aa){var ma=this.Lz(x,ba,this.OF);(x=this.Qma(ma,ba,this.OF,aa,this.vg))&&x.request.start(Object(r.d)(x));return function(){var ia=Object(r.c)(ma,ba,b);if(-1!==ia){var ja=--b[ia].OI;0===ja&&b[ia].request&&b[ia].request.abort()}else ia=Object(r.c)(ma,ba,n),-1!==ia&&(ja=--n[ia].OI,0===ja&&n.splice(ia,1))}};fa.prototype.I1=function(){return{start:-ka.a}};fa.prototype.pra=function(){var x=-(ka.a+ka.e);
return{start:x-ka.d,end:x}};fa.prototype.Lw=function(x){var ba=this;this.VF=!0;var aa=ka.a;this.Zq(this.url,this.I1(),function(ma,ia,ja){function ra(){var qa=ba.we.F1();ba.Zq(ba.url,qa,function(sa,ua){if(sa)return Object(oa.j)("Error loading central directory: "+sa),x(sa);ua=Object(ha.a)(ua);if(ua.length!==qa.stop-qa.start)return x("Invalid XOD file: Zip central directory data is wrong size! Should be "+(qa.stop-qa.start)+" but is "+ua.length);ba.we.W6(ua);ba.HN=!0;ba.VF=!1;return x(!1)})}if(ma)return Object(oa.j)("Error loading end header: "+
ma),x(ma,ia,ja);ia=Object(ha.a)(ia);if(ia.length!==aa)return x("Invalid XOD file: Zip end header data is wrong size!");try{ba.we=new la.a(ia)}catch(qa){return x(qa)}ba.we.rta?ba.Zq(ba.url,ba.pra(),function(qa,sa){if(qa)return Object(oa.j)("Error loading zip64 header: "+qa),x(qa);sa=Object(ha.a)(sa);ba.we.Tta(sa);ra()}):ra()})};fa.prototype.i2=function(x){x(Object.keys(this.we.xq))};fa.prototype.CS=function(x,ba){var aa=this;if(this.we.p_(x)){var ma=this.we.zA(x);if(ma in this.Vk){var ia=this.Ei[x];
ia.rv=this.Vk[ma];ia.rv.bp++;ia.cancel=ia.rv.cancel}else{var ja=this.we.jpa(x),ra=this.Zq(this.url,ja,function(sa,ua){sa?(Object(oa.j)('Error loading part "'+x+'": '+sa),aa.Zq(aa.url,ja,function(xa,Ga){if(xa)return ba(xa,x);aa.a7(Ga,ja,ma,x,ba)})):aa.a7(ua,ja,ma,x,ba)}),qa=this.Ei[x];qa&&(qa.K9=!0,qa.cancel=function(){qa.rv.bp--;0===qa.rv.bp&&(ra(),delete aa.Vk[ma])},this.Vk[ma]=new e(ma),qa.rv=this.Vk[ma],qa.rv.cancel=qa.cancel)}}else delete this.Ei[x],ba(Error('File not found: "'+x+'"'),x)};fa.prototype.a7=
function(x,ba,aa,ma,ia){if(x.length!==ba.stop-ba.start)ia(Error("Part data is wrong size!"),ma);else{do{if(!this.Vk[aa])return;ma=this.Vk[aa].bp;for(var ja=ba.Tt.length,ra=0;ra<ja;++ra){var qa=ba.Tt[ra];ia(!1,qa.Pt,x["string"===typeof x?"substring":"subarray"](qa.start,qa.stop),this.we.K3(qa.Pt));qa.Pt in this.Ei&&delete this.Ei[qa.Pt]}}while(ma!==this.Vk[aa].bp);delete this.Vk[aa]}};fa.DISABLE_RANGE_HEADER=!1;fa.KV=3;return fa}(wa.a);(function(ea){function fa(x,ba,aa){var ma=ea.call(this)||this,
ia;for(ia in x)ma[ia]=x[ia];ma.FHa=x;ma.startOffset=ba;ma.endOffset=aa;ma.B_=function(ja,ra,qa,sa){Object(na.isUndefined)(ra.stop)?(ra.start+=ma.endOffset,ra.stop=ma.endOffset):(ra.start+=ma.startOffset,ra.stop+=ma.startOffset);ja=ma.Lz(ma.url,ra,ma.OF);return new x.qC(ja,ra,qa,sa)};return ma}Object(pa.c)(fa,ea);return fa})(ca);Object(h.a)(ca);Object(h.b)(ca);ta["default"]=ca}}]);}).call(this || window)
